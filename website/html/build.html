<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Build</title>


</head>

<link rel="stylesheet" type="text/css" href="../css/layout.css">
<link rel="stylesheet" type="text/css" href="../css/build.css">

<body>
<header>
    <ul>
        <li><a href="load.html">Load</a></li>
        <li class="tabSelected"><a href="build.html">Build</a></li>
        <li><a href="train.html">Train</a></li>
        <li><a href="visualize.html">Visualize</a></li>
        <li><a href="tune.html">Tuning</a></li>
    </ul>
</header>

<div class="row">
    <div class="columnFixed" style="width: 250px">
        <h4>Learning Parameters:</h4>

        <label>Mirror weights <input id="mirrorWeights" type="checkbox"></label><br>
        <br>

        Activation Fuction: <br>
        <select id="activationFunction" size="1">
            <option value="relu">relu</option>
            <option value="relu6">relu6</option>
            <option value="elu">elu</option>
            <option value="softplus">softplus</option>
            <option value="softsign">softsign</option>
            <option value="sigmoid">sigmoid</option>
            <option value="tanh">tanh</option>
        </select><br>
        <br>
        <section>
            <img id="activationFunctionPreviewImage" src="../img/relu.svg">
        </section>
        <br>

        Batch Size: <br>
        <input id="batchSize" type="number" value="100"><br>
        <br>

        Number of Epochs <br>
        <input id="nEpochs" type="number" value="50"><br>
        <br>

        Learning Rate Function: <br>
        <select id="learningRateFunction" size="1">
            <option value="static">static</option>
            <option value="exponential_decay">exponential_decay</option>
            <option value="inverse_time_decay">inverse_time_decay</option>
            <option value="natural_exp_decay">natural_exp_decay</option>
            <option value="piecewise_constant">piecewise_constant</option>
            <option value="polynomial_decay">polynomial_decay</option>
        </select><br>
        <br>
        <section id="advancedLearningParameters">

            <img id="learningRateFunctionPreviewImage" src="../img/static.svg">
            <br>

            <div id="lrInitialLearningRateDiv" style="display:none">
                Initial Learning Rate <br>
                <input id="lrInitialLearningRate" type="number" value="0.01"><br>
                <br>
            </div>
            <div id="lrDecayStepsDiv" style="display:none">
                Decay Steps <br>
                <input id="lrDecaySteps" type="number" value="1000"> <br>
                <br>
            </div>
            <div id="lrDecayRateDiv" style="display:none">
                Decay Rate <br>
                <input id="lrDecayRate" type="number" value="0.9"><br>
                <br>
            </div>
            <div id="lrStaircaseDiv" style="display:none">
                <label>Use stepwise decay <input id="lrStaircase" type="checkbox"></label><br>
                <br>
            </div>
            <div id="lrBoundariesDiv" style="display:none">
                Boundaries <br>
                <input id="lrBoundaries" value="[10000, 20000]"> <br>
                <br>
            </div>
            <div id="lrValuesDiv" style="display:none">
                Boundary Values <br>
                <input id="lrValues" value="[1.0, 0.5, 0.1]"><br>
                <br>
            </div>
            <div id="lrEndLearningRateDiv" style="display:none">
                End Learning Rate <br>
                <input id="lrEndLearningRate" type="number" value="0.0001"><br>
                <br>
            </div>
            <div id="lrPowerDiv" style="display:none">
                Power <br>
                <input id="lrPower" type="number" value="1.0"><br>
                <br>
            </div>
            <div id="lrCycleDiv" style="display:none">
                <label>Cycle Beyond decay_steps <input id="lrCycle" type="checkbox"></label><br>
                <br>
            </div>
        </section>
        <br>

        Optimizer: <br>
        <select id="Optimizer" size="1">
            <option value="GradientDescentOptimizer">GradientDescentOptimizer</option>
            <option value="AdadeltaOptimizer">AdadeltaOptimizer</option>
            <option value="AdagradOptimizer">AdagradOptimizer</option>
            <option value="AdagradDAOptimizer">AdagradDAOptimizer</option>
            <option value="MomentumOptimizer">MomentumOptimizer</option>
            <option value="AdamOptimizer" selected>AdamOptimizer</option>
            <option value="FtrlOptimizer">FtrlOptimizer</option>
            <option value="ProximalGradientDescentOptimizer">ProximalGradientDescentOptimizer</option>
            <option value="ProximalAdagradOptimizer">ProximalAdagradOptimizer</option>
            <option value="RMSPropOptimizer">RMSPropOptimizer</option>
        </select><br>
        <br>
        <div id="MomentumDiv" style="display:none">
            Momentum <br>
            <input id="Momentum" type="number" value="0.9"><br>
            <br>
        </div>

        Cost function: <br>
        <select id="CostFunctions" size="1">

            "squared_pixel_distance", "pixel_distance", "msssim"
            <option value="squared_pixel_distance">squared pixel distance</option>
            <option value="pixel_distance">pixel distance</option>
            <!--<option value="msssim">MS-SSIM</option>-->
        </select><br>
        <br>
        <section id="MsssimDiv" style="display:none">
            max. pixel value: <br>
            <input id="cfMaxVal" type="number" value="255"><br>
            <br>
            filter size: <br>
            <input id="cfFilterSize" type="number" value="11"><br>
            <br>
            filter sigma: <br>
            <input id="cfFilterSigma" type="number" value="1.5"><br>
            <br>
            k1: <br>
            <input id="cfK1" type="number" value="0.01"><br>
            <br>
            k2: <br>
            <input id="cfK2" type="number" value="0.03"><br>
            <br>
            weights: <br>
            <input id="cfWeights" value="[0]"><br>
            <br>
        </section>


    </div>

    <div class="columnFixed" style="width: 250px">
        <br>
        <br>
        <br>

        <label for="randomFunctionForWeights">Random functions for weights:</label>
        <select id="randomFunctionForWeights" size="1">
            <option value="zeros">zeros</option>
            <option value="gamma">gamma</option>
            <option value="normal">normal</option>
            <option value="poisson">poisson</option>
            <option value="uniform" selected>uniform</option>
        </select><br>
        <br>
        <section id="advancedWeightParameters">
            <img id="randomFunctionForWeightsPreviewImage" src="../img/uniform.svg">
            <br>

            <div id="rwAlphaDiv" style="display: none">
                Alpha: <br>
                <input id="rwAlpha" type="number" value="0.5"><br>
                <br>
            </div>
            <div id="rwBetaDiv" style="display: none">
                Beta: <br>
                <input id="rwBeta" type="number" value="1.0"><br>
                <br>
            </div>
            <div id="rwMeanDiv" style="display: none">
                Mean: <br>
                <input id="rwMean" type="number" value="0.0"><br>
                <br>
            </div>
            <div id="rwStddevDiv" style="display: none">
                Standard deviation: <br>
                <input id="rwStddev" type="number" value="1.0"><br>
                <br>
            </div>
            <div id="rwLamDiv" style="display: none">
                Rate parameter: <br>
                <input id="rwLam" type="number" value="0.5"><br>
                <br>
            </div>
            <div id="rwMinvalDiv" style="display: none">
                Minimum value: <br>
                <input id="rwMinval" type="number" value="-0.5"><br>
                <br>
            </div>
            <div id="rwMaxvalDiv" style="display: none">
                Maximum value: <br>
                <input id="rwMaxval" type="number" value="0.5"><br>
                <br>
            </div>
            <div id="rwSeedDiv" style="display: none">
                Seed: <br>
                <input id="rwSeed" type="number" value="-1"><br>
                <br>
            </div>

        </section>
        <br>

        <label for="randomFunctionForBiases">Random functions for biases:</label>
        <select id="randomFunctionForBiases" size="1">
            <option value="zeros" selected>zeros</option>
            <option value="gamma">gamma</option>
            <option value="normal">normal</option>
            <option value="poisson">poisson</option>
            <option value="uniform">uniform</option>
        </select>
        <br>
        <br>
        <section id="advancedBiasParameters">
            <img id="randomFunctionForBiasesPreviewImage" src="../img/zeros.svg">
            <br>

            <div id="rbAlphaDiv" style="display: none">
                Alpha: <br>
                <input id="rbAlpha" type="number" value="0.5"><br>
                <br>
            </div>
            <div id="rbBetaDiv" style="display: none">
                Beta: <br>
                <input id="rbBeta" type="number" value="1.0"><br>
                <br>
            </div>
            <div id="rbMeanDiv" style="display: none">
                Mean: <br>
                <input id="rbMean" type="number" value="0.0"><br>
                <br>
            </div>
            <div id="rbStddevDiv" style="display: none">
                Standard deviation: <br>
                <input id="rbStddev" type="number" value="1.0"><br>
                <br>
            </div>
            <div id="rbLamDiv" style="display: none">
                Rate parameter: <br>
                <input id="rbLam" type="number" value="0.5"><br>
                <br>
            </div>
            <div id="rbMinvalDiv" style="display: none">
                Minimum value: <br>
                <input id="rbMinval" type="number" value="-0.5"><br>
                <br>
            </div>
            <div id="rbMaxvalDiv" style="display: none">
                Maximum value: <br>
                <input id="rbMaxval" type="number" value="0.5"><br>
                <br>
            </div>
            <div id="rbSeedDiv" style="display: none">
                Seed: <br>
                <input id="rbSeed" type="number" value="-1"><br>
                <br>
            </div>
        </section>

        <!--Unmodifiable server parameters-->
        <div style="display: none">
            Path for session saving: <br>
            <!--<input id="sessionSaverPath" type="file" webkitdirectory directory value="./save/"><br>-->
            <input id="sessionSaverPath" value="./save/"><br>
            <br>

            Duration of session saving:<br>
            <input id="sessionSaveDuration" type="number" value="5"><br>
            <br>

            Number of test images during train evaluation: <br>
            <input id="numTestPictures" type="number" value="100"><br>
            <br>

            <label>Use Tensorboard Visualisation <input id="useTensorboard" type="checkbox" checked></label><br>
            <br>

            <label>Activate verbose console output <input id="verbose" type="checkbox" checked></label><br>
            <br>
        </div>

        <h4>Loaded data sets:</h4>
        <select id="inputLoadedDataSets" size="3">

        </select>
        <br>
        <br>
        Dataset statistics:
        <br>
        <label id="labelResolution">Resolution: </label>
        <br>
        <label id="labelLayer">Layer: </label>
        <br>
        <label id="labelNumberOfImages">Number of Images: </label>
        <br>
        <br>

    </div>


    <div class="columnFixed" style="width: calc(100% - 500px)">
        <div>
            <table>
                <tr>
                    <td>
                        <div id="layerPreview">

                        </div>
                    </td>
                    <td class="layerPreviewTableCell">

                        <label for="filtersizeModifier">Filtersize:</label>
                        <br>
                        <input id="filtersizeModifier" type="number" value="3">
                        <br>
                        <br>
                        <label for="stackCountModifier">Stack count:</label>
                        <br>
                        <input id="stackCountModifier" type="number" value="3">
                        <br>
                        <button id="applyLayerModification">apply</button>
                        <br>
                        <br>
                        <br>
                        <br>
                        <br>
                        <br>
                        <br>
                        <br>
                        <br>
                        <br>
                        <br>
                        <button id="addLayer">add Layer</button>
                        <br>
                        <button id="buildANN">Build ANN</button>
                        <br>
                        <label id="responseLabel"></label>
                    </td>
                </tr>
            </table>


        </div>

        <div id="ConvolutionalAutoEncoder">
            <!--<div id="inputLayer_old" class="ANNLayer">-->
            <!--Input Layer:-->
            <!--<br>-->
            <!--<br>-->
            <!--Resolution:-->
            <!--<label id="resXLabel">?</label> x <label id="resYLabel">?</label>-->
            <!--Channels:-->
            <!--<label id="channelLabel">?</label>-->
            <!--<br>-->
            <!--</div>-->
            <div class="horizontal-scroll">
                <div id="input" class="layer-svg">
                </div>
                <div id="encoder" class="layer-svg">
                </div>
            </div>
            <div class="horizontal-scroll">
                <div id="decoder" class="layer-svg">
                </div>
                <div id="output" class="layer-svg">
                </div>
            </div>
            <!--<div id="outputLayer" class="ANNLayer">-->
            <!--Output Layer:-->
            <!--<br>-->
            <!--<br>-->
            <!--Resolution:-->
            <!--<label id="resXLabel2">?</label> x <label id="resYLabel2">?</label>-->
            <!--Channels: <label id="channelLabel2">?</label>-->
            <!--<br>-->
            <!--</div>-->
        </div>

    </div>
</div>
</div>
<script src="https://d3js.org/d3.v4.min.js"></script>
<script src="../js/layerVisualisation.js"></script>
<script src="../js/build_bundle.js"></script>
<script src="../js/hideAndShowBuildParameters.js"></script>
</body>
</html>



